supDomain: DeviceForInputSource
	domain: DefaultAndMic
		conf: A2dp
			AvailableInputDevices Includes BLUETOOTH_A2DP

			component: /Policy/policy/input_sources
				component: default/applicable_input_device/mask/
					bluetooth_a2dp = 1
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: mic/applicable_input_device/mask/
					bluetooth_a2dp = 1
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0

		conf: WiredHeadset
			AvailableInputDevices Includes WIRED_HEADSET

			component: /Policy/policy/input_sources
				component: default/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 1
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: mic/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 1
					usb_device = 0
					builtin_mic = 0
					stub = 0

		conf: UsbDevice
			AvailableInputDevices Includes USB_DEVICE

			component: /Policy/policy/input_sources
				component: default/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 1
					builtin_mic = 0
					stub = 0
				component: mic/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 1
					builtin_mic = 0
					stub = 0

		conf: BuiltinMic
			AvailableInputDevices Includes BUILTIN_MIC

			component: /Policy/policy/input_sources
				component: default/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 0
					builtin_mic = 1
					stub = 0
				component: mic/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 0
					builtin_mic = 1
					stub = 0

		conf: Stub
			AvailableInputDevices Includes DEFAULT

			component: /Policy/policy/input_sources
				component: default/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 1
				component: mic/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 1

		conf: Default
			component: /Policy/policy/input_sources
				component: default/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: mic/applicable_input_device/mask/
					bluetooth_a2dp = 0
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0

	domain: VoiceUplinkAndVoiceDownlinkAndVoiceCall
		conf: VoiceCall
			AvailableInputDevices Includes TELEPHONY_RX

			component: /Policy/policy/input_sources
				voice_downlink/applicable_input_device/mask/telephony_rx = 1
				voice_call/applicable_input_device/mask/telephony_rx = 1
				voice_uplink/applicable_input_device/mask/telephony_rx = 1
				voice_downlink/applicable_input_device/mask/stub = 0
				voice_call/applicable_input_device/mask/stub = 0
				voice_uplink/applicable_input_device/mask/stub = 0

		conf: Stub
			AvailableInputDevices Includes BUILTIN_MIC

			component: /Policy/policy/input_sources
				voice_downlink/applicable_input_device/mask/telephony_rx = 0
				voice_call/applicable_input_device/mask/telephony_rx = 0
				voice_uplink/applicable_input_device/mask/telephony_rx = 0
				voice_downlink/applicable_input_device/mask/stub = 1
				voice_call/applicable_input_device/mask/stub = 1
				voice_uplink/applicable_input_device/mask/stub = 1

		conf: Default
			component: /Policy/policy/input_sources
				voice_downlink/applicable_input_device/mask/telephony_rx = 0
				voice_call/applicable_input_device/mask/telephony_rx = 0
				voice_uplink/applicable_input_device/mask/telephony_rx = 0
				voice_downlink/applicable_input_device/mask/stub = 0
				voice_call/applicable_input_device/mask/stub = 0
				voice_uplink/applicable_input_device/mask/stub = 0

	domain: Camcorder
		conf: BackMic
			AvailableInputDevices Includes BACK_MIC

			component: /Policy/policy/input_sources/camcorder/applicable_input_device/mask
				back_mic = 1
				builtin_mic = 0
				stub = 0

		conf: BuiltinMic
			AvailableInputDevices Includes BUILTIN_MIC

			component: /Policy/policy/input_sources/camcorder/applicable_input_device/mask
				back_mic = 0
				builtin_mic = 1
				stub = 0

		conf: Stub
			AvailableInputDevices Includes DEFAULT

			component: /Policy/policy/input_sources/camcorder/applicable_input_device/mask
				back_mic = 0
				builtin_mic = 0
				stub = 1

		conf: Default
			component: /Policy/policy/input_sources/camcorder/applicable_input_device/mask
				back_mic = 0
				builtin_mic = 0
				stub = 0

	domain: VoiceRecognitionAndUnprocessedAndHotword
		conf: WiredHeadset
			AvailableInputDevices Includes WIRED_HEADSET

			component: /Policy/policy/input_sources
				component: voice_recognition/applicable_input_device/mask
					wired_headset = 1
					usb_device = 0
					stub = 0
					builtin_mic = 0
				component: unprocessed/applicable_input_device/mask
					wired_headset = 1
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: hotword/applicable_input_device/mask
					wired_headset = 1
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: voice_performance/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0

		conf: UsbDevice
			AvailableInputDevices Includes USB_DEVICE

			component: /Policy/policy/input_sources
				component: voice_recognition/applicable_input_device/mask
					wired_headset = 0
					usb_device = 1
					builtin_mic = 0
					stub = 0
				component: unprocessed/applicable_input_device/mask
					wired_headset = 0
					usb_device = 1
					builtin_mic = 0
					stub = 0
				component: hotword/applicable_input_device/mask
					wired_headset = 0
					usb_device = 1
					builtin_mic = 0
					stub = 0
				component: voice_performance/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0


		conf: BuiltinMic
			AvailableInputDevices Includes BUILTIN_MIC

			component: /Policy/policy/input_sources
				component: voice_recognition/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 1
					stub = 0
				component: unprocessed/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 1
					stub = 0
				component: hotword/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 1
					stub = 0
				component: voice_performance/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 1
					stub = 0


		conf: Stub
			AvailableInputDevices Includes DEFAULT

			component: /Policy/policy/input_sources
				component: voice_recognition/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 1
				component: unprocessed/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 1
				component: hotword/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 1
				component: voice_performance/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 1

		conf: Default
			component: /Policy/policy/input_sources
				component: voice_recognition/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: unprocessed/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: hotword/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0
				component: voice_performance/applicable_input_device/mask
					wired_headset = 0
					usb_device = 0
					builtin_mic = 0
					stub = 0


	domain: VoiceCommunication
		conf: WiredHeadset
			ForceUseForCommunication Is NONE
			AvailableInputDevices Includes WIRED_HEADSET

			component: /Policy/policy/input_sources/voice_communication/applicable_input_device/mask
				wired_headset = 1
				usb_device = 0
				builtin_mic = 0
				back_mic = 0
				stub = 0

		conf: UsbDevice
			ForceUseForCommunication Is NONE
			AvailableInputDevices Includes USB_DEVICE

			component: /Policy/policy/input_sources/voice_communication/applicable_input_device/mask
				wired_headset = 0
				usb_device = 1
				builtin_mic = 0
				back_mic = 0
				stub = 0

		conf: BuiltinMic
			AvailableInputDevices Includes BUILTIN_MIC
			ANY
				ForceUseForCommunication Is NONE
				ALL
					ForceUseForCommunication Is SPEAKER
					AvailableInputDevices Excludes BACK_MIC

			component: /Policy/policy/input_sources/voice_communication/applicable_input_device/mask
				wired_headset = 0
				usb_device = 0
				builtin_mic = 1
				back_mic = 0
				stub = 0

		conf: BackMic
			ForceUseForCommunication Is SPEAKER
			AvailableInputDevices Includes BACK_MIC

			component: /Policy/policy/input_sources/voice_communication/applicable_input_device/mask
				wired_headset = 0
				usb_device = 0
				builtin_mic = 0
				back_mic = 1
				stub = 0

		conf: Default
			#
			# Fallback on the default input device which can be builtin mic for example
			#
			component: /Policy/policy/input_sources/voice_communication/applicable_input_device/mask
				wired_headset = 0
				usb_device = 0
				builtin_mic = 1
				back_mic = 0
				stub = 0

	domain: RemoteSubmix
		conf: RemoteSubmix
			AvailableInputDevices Includes REMOTE_SUBMIX

			component: /Policy/policy/input_sources/remote_submix/applicable_input_device/mask
				remote_submix = 1
				stub = 0

		conf: Stub
			AvailableInputDevices Includes DEFAULT

			component: /Policy/policy/input_sources/remote_submix/applicable_input_device/mask
				remote_submix = 0
				stub = 1

		conf: Default
			component: /Policy/policy/input_sources/remote_submix/applicable_input_device/mask
				remote_submix = 0
				stub = 0

	domain: FmTuner
		conf: FmTuner
			AvailableInputDevices Includes FM_TUNER

			component: /Policy/policy/input_sources/fm_tuner/applicable_input_device/mask
				fm_tuner = 1
				stub = 0

		conf: Stub
			AvailableInputDevices Includes DEFAULT

			component: /Policy/policy/input_sources/fm_tuner/applicable_input_device/mask
				fm_tuner = 0
				stub = 1

		conf: Default
			component: /Policy/policy/input_sources/fm_tuner/applicable_input_device/mask
				fm_tuner = 0
				stub = 0

	domain: Voice
		conf: Stub
			AvailableInputDevices Includes DEFAULT

			/Policy/policy/input_sources/echo_reference/applicable_input_device/mask/stub = 1

		conf: Default
			/Policy/policy/input_sources/echo_reference/applicable_input_device/mask/stub = 0


